<template>
  <div class="rules">
    <div class="rules-container">
      <h1 class="rules-title">ğŸ¤¿ Dice Diver ê²Œì„ ë£°</h1>
      
      <section class="rules-section">
        <h2>ğŸ¯ ê²Œì„ ëª©í‘œ</h2>
        <p>ì´ 10ë¼ìš´ë“œ ë™ì•ˆ ì£¼ì‚¬ìœ„ë¥¼ êµ´ë ¤ ì‹¬í•´ë¥¼ íƒí—˜í•˜ê³ , ë¨¹ì´ì™€ ë¬¼ê³ ê¸°, í¬ì‹ìë¥¼ íšë“í•˜ì—¬ ìµœê³  ì ìˆ˜ë¥¼ ë‹¬ì„±í•˜ì„¸ìš”!</p>
      </section>

      <section class="rules-section">
        <h2>ğŸ² ì£¼ì‚¬ìœ„ ë©´</h2>
        <div class="dice-grid">
          <div class="dice-item" v-for="(emoji, face) in diceFaces" :key="face">
            <span class="dice-emoji">{{ emoji }}</span>
            <span class="dice-name">{{ faceNames[face] }}</span>
          </div>
        </div>
      </section>

      <section class="rules-section">
        <h2>ğŸ—ï¸ ì¸µë³„ êµ¬ì¡°</h2>
        <div class="floor-grid">
          <div class="floor-item">
            <h3>1-3ì¸µ (ë¨¹ì´ì¸µ)</h3>
            <p>ğŸ¦€ğŸŒ¿ğŸŸğŸš ë¨¹ì´ ì¹´ë“œë“¤ì´ ìˆìŠµë‹ˆë‹¤</p>
            <ul>
              <li>1ì¸µ: 6ì¥</li>
              <li>2ì¸µ: 5ì¥</li>
              <li>3ì¸µ: 4ì¥</li>
            </ul>
          </div>
          <div class="floor-item">
            <h3>4ì¸µ (ë¬¼ê³ ê¸°ì¸µ)</h3>
            <p>ğŸŸ ë¬¼ê³ ê¸° ì¹´ë“œ 3ì¥ì´ ìˆìŠµë‹ˆë‹¤</p>
          </div>
          <div class="floor-item">
            <h3>5-6ì¸µ (í¬ì‹ìì¸µ)</h3>
            <p>í¬ì‹ì ì¹´ë“œë“¤ì´ ìˆìŠµë‹ˆë‹¤</p>
            <ul>
              <li>5ì¸µ: 2ì¥</li>
              <li>6ì¸µ: 1ì¥</li>
            </ul>
          </div>
        </div>
      </section>

      <section class="rules-section">
        <h2>ğŸŒŠ ë¼ìš´ë“œ ì§„í–‰</h2>
        <div class="phase-grid">
          <div class="phase-item">
            <h3>1. ì ìˆ˜ ë‹¨ê³„</h3>
            <ul>
              <li>ì£¼ì‚¬ìœ„ 6ê°œë¥¼ êµ´ë¦½ë‹ˆë‹¤</li>
              <li>ğŸ¤¿ ì ìˆ˜ë¶€ ê°œìˆ˜ë§Œí¼ ì¸µ í•˜ê°•</li>
              <li>ğŸ¦ˆ ìƒì–´ëŠ” ì´ë²ˆ ë¼ìš´ë“œ ë™ì•ˆ ì„ì‹œ ì œê±°</li>
              <li>ğŸ¦ˆ ìƒì–´ê°€ 3ê°œ ì´ìƒì´ë©´ ë¼ìš´ë“œ ì¦‰ì‹œ ì¢…ë£Œ</li>
              <li>ğŸ¤¿ ì ìˆ˜ë¶€ê°€ 0ê°œë©´: ì£¼ì‚¬ìœ„ 1ê°œ ì„ì‹œ ì œê±° í›„ 1ì¸µ ê°•ì œ í•˜ê°•</li>
              <li>ì›í•˜ëŠ” ì¸µì— ë„ë‹¬í•  ë•Œê¹Œì§€ ë°˜ë³µ ê°€ëŠ¥</li>
            </ul>
          </div>
          <div class="phase-item">
            <h3>2. íƒì‚¬ ë‹¨ê³„</h3>
            <ul>
              <li>ë‚¨ì€ ì£¼ì‚¬ìœ„ë¥¼ ëª¨ë‘ ë‹¤ì‹œ êµ´ë¦¼</li>
              <li><strong>1-3ì¸µ:</strong> ì£¼ì‚¬ìœ„ ë§ˆí¬ì™€ ì¹´ë“œ ë§ˆí¬ê°€ ì¼ì¹˜í•˜ë©´ íšë“</li>
              <li><strong>4ì¸µ:</strong> ğŸŸê°€ 1ê°œ ì´ìƒ ë‚˜ì˜¤ë©´ ë¬¼ê³ ê¸° ì¹´ë“œ 1ì¥ íšë“</li>
              <li><strong>5-6ì¸µ:</strong> í¬ì‹ì ì¹´ë“œ 1ì¥ íšë“</li>
            </ul>
          </div>
        </div>
      </section>

      <section class="rules-section">
        <h2>ğŸ† ì ìˆ˜ ê³„ì‚°</h2>
        <div class="scoring-grid">
          <div class="scoring-item">
            <h3>ğŸ¦€ğŸŒ¿ğŸš ë¨¹ì´</h3>
            <p><strong>2ì¥ = 1ì </strong></p>
            <p>í™€ìˆ˜ ì¥ìˆ˜ëŠ” 0ì  (ë²„ë¦¼)</p>
          </div>
          <div class="scoring-item">
            <h3>ğŸŸ ë¬¼ê³ ê¸°</h3>
            <p><strong>1ì¥ = 3ì </strong></p>
          </div>
          <div class="scoring-item">
            <h3>ğŸ¦ˆ í¬ì‹ì</h3>
            <p><strong>ê¸°ë³¸ 1ì </strong></p>
            <p>ë¨¹ì´ë¥¼ ì£¼ë©´ <strong>8-12ì </strong></p>
          </div>
        </div>
      </section>

      <section class="rules-section">
        <h2>ğŸ½ï¸ í¬ì‹ì ë¨¹ì´ì£¼ê¸°</h2>
        <p>ê²Œì„ ì‹œì‘ ì‹œ í¬ì‹ìì™€ ë¨¹ì´ê°€ ëœë¤ìœ¼ë¡œ ë§¤í•‘ë©ë‹ˆë‹¤:</p>
        <div class="predator-mapping" v-if="predatorMapping">
          <div class="mapping-item" v-for="(bait, predator) in predatorMapping" :key="predator">
            <span class="predator">{{ predator }}</span>
            <span class="arrow">â†’</span>
            <span class="bait">{{ diceFaces[bait] }} {{ faceNames[bait] }}</span>
          </div>
        </div>
        <p class="mapping-note">* ë§¤ ê²Œì„ë§ˆë‹¤ ë‹¤ë¥´ê²Œ ë§¤í•‘ë©ë‹ˆë‹¤</p>
      </section>

      <section class="rules-section">
        <h2>âš ï¸ íŠ¹ìˆ˜ ê·œì¹™</h2>
        <ul class="special-rules">
          <li><strong>ìƒì–´ 3ê°œ ì´ìƒ:</strong> ë¼ìš´ë“œ ì¦‰ì‹œ ì¢…ë£Œ, íƒì‚¬ ë¶ˆê°€</li>
          <li><strong>ì ìˆ˜ë¶€ 0ê°œ:</strong> ì£¼ì‚¬ìœ„ 1ê°œ ì„ì‹œ ì œê±° í›„ 1ì¸µ ê°•ì œ í•˜ê°•, ì¬ì‹œë„ ê°€ëŠ¥</li>
          <li><strong>ì„ì‹œ ì œê±°ëœ ì£¼ì‚¬ìœ„:</strong> ë‹¤ìŒ ë¼ìš´ë“œì— ë³µêµ¬</li>
          <li><strong>ì ìˆ˜ ìœ„ì¹˜:</strong> ë§¤ ë¼ìš´ë“œ ì‹œì‘ ì‹œ 1ì¸µìœ¼ë¡œ ë¦¬ì…‹</li>
        </ul>
      </section>

      <div class="cta-section">
        <RouterLink to="/game" class="play-button">ê²Œì„ ì‹œì‘í•˜ê¸°</RouterLink>
      </div>
    </div>
  </div>
</template>

<script setup lang="ts">
import { ref, onMounted } from 'vue';
import { DICE_FACE_EMOJIS, DICE_FACE_NAMES } from '../components/DiceFaces';
import { createPredatorBaitMapping } from '../game/deck';

const diceFaces = DICE_FACE_EMOJIS;
const faceNames = DICE_FACE_NAMES;
const predatorMapping = ref<Record<string, any> | null>(null);

onMounted(() => {
  predatorMapping.value = createPredatorBaitMapping();
});
</script>

<style scoped>
.rules {
  max-width: 1000px;
  margin: 0 auto;
  padding: 2rem;
}

.rules-container {
  background: linear-gradient(135deg, #f8f9fa, #e9ecef);
  border-radius: 1rem;
  padding: 3rem;
  box-shadow: 0 10px 30px rgba(0, 0, 0, 0.1);
}

.rules-title {
  text-align: center;
  font-size: 2.5rem;
  margin-bottom: 2rem;
  color: #2c5364;
  background: linear-gradient(45deg, #1e3c72, #2a5298);
  -webkit-background-clip: text;
  -webkit-text-fill-color: transparent;
  background-clip: text;
}

.rules-section {
  margin-bottom: 3rem;
  padding: 2rem;
  background: white;
  border-radius: 0.5rem;
  box-shadow: 0 2px 10px rgba(0, 0, 0, 0.05);
}

.rules-section h2 {
  color: #1565c0;
  margin-bottom: 1rem;
  font-size: 1.5rem;
}

.dice-grid {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(120px, 1fr));
  gap: 1rem;
  margin-top: 1rem;
}

.dice-item {
  display: flex;
  flex-direction: column;
  align-items: center;
  padding: 1rem;
  background: linear-gradient(135deg, #e3f2fd, #bbdefb);
  border-radius: 0.5rem;
  text-align: center;
}

.dice-emoji {
  font-size: 2rem;
  margin-bottom: 0.5rem;
}

.dice-name {
  font-weight: bold;
  color: #1565c0;
}

.floor-grid {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
  gap: 1.5rem;
  margin-top: 1rem;
}

.floor-item {
  padding: 1.5rem;
  background: linear-gradient(135deg, #fff3e0, #ffe0b2);
  border-radius: 0.5rem;
  border-left: 4px solid #ff9800;
}

.floor-item h3 {
  color: #e65100;
  margin-bottom: 0.5rem;
}

.phase-grid {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
  gap: 2rem;
  margin-top: 1rem;
}

.phase-item {
  padding: 1.5rem;
  background: linear-gradient(135deg, #e8f5e8, #c8e6c9);
  border-radius: 0.5rem;
  border-left: 4px solid #4caf50;
}

.phase-item h3 {
  color: #2e7d32;
  margin-bottom: 1rem;
}

.phase-item ul {
  margin: 0;
  padding-left: 1.5rem;
}

.phase-item li {
  margin-bottom: 0.5rem;
  line-height: 1.4;
}

.scoring-grid {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
  gap: 1.5rem;
  margin-top: 1rem;
}

.scoring-item {
  padding: 1.5rem;
  background: linear-gradient(135deg, #fce4ec, #f8bbd9);
  border-radius: 0.5rem;
  text-align: center;
  border-left: 4px solid #e91e63;
}

.scoring-item h3 {
  color: #ad1457;
  margin-bottom: 1rem;
  font-size: 1.2rem;
}

.predator-mapping {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
  gap: 1rem;
  margin: 1rem 0;
}

.mapping-item {
  display: flex;
  align-items: center;
  justify-content: center;
  gap: 0.5rem;
  padding: 1rem;
  background: linear-gradient(135deg, #f3e5f5, #e1bee7);
  border-radius: 0.5rem;
  font-weight: bold;
}

.predator {
  color: #7b1fa2;
}

.arrow {
  color: #9c27b0;
  font-size: 1.2rem;
}

.bait {
  color: #4a148c;
}

.mapping-note {
  font-style: italic;
  color: #666;
  text-align: center;
  margin-top: 1rem;
}

.special-rules {
  list-style: none;
  padding: 0;
}

.special-rules li {
  padding: 0.75rem;
  margin-bottom: 0.5rem;
  background: linear-gradient(135deg, #ffebee, #ffcdd2);
  border-radius: 0.5rem;
  border-left: 4px solid #f44336;
}

.cta-section {
  text-align: center;
  margin-top: 3rem;
}

.play-button {
  display: inline-block;
  padding: 1rem 2rem;
  font-size: 1.2rem;
  font-weight: bold;
  background: linear-gradient(45deg, #ff6b6b, #ee5a24);
  color: white;
  text-decoration: none;
  border-radius: 0.5rem;
  transition: all 0.3s;
  box-shadow: 0 4px 15px rgba(255, 107, 107, 0.3);
}

.play-button:hover {
  transform: translateY(-2px);
  box-shadow: 0 6px 20px rgba(255, 107, 107, 0.4);
}
</style>
